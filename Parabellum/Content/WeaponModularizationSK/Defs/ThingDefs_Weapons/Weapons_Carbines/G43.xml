<?xml version="1.0" encoding="utf-8" ?>
<Defs>

	<!-- Gewehr/Karabiner 43 -->
    <ThingDef ParentName="BaseGun_LongBarreled">
        <defName>Pa_G43C</defName>
        <label>Gewehr 43 Custom</label>
        <description>The succesor of both G41(W) and G41(M), included improved short-stroke piston gas system which solved the reliability issue, and detachable 10 rounds magazine box to speed up its reaload.</description>
        <graphicData>
            <texPath>Things/Weapons/Carabines/G43c</texPath>
            <graphicClass>Graphic_Single</graphicClass>
			<drawSize>1.2</drawSize>
        </graphicData>
        <soundInteract>Interact_Rifle</soundInteract>
        <statBases>
            <MarketValue>1400</MarketValue>
            <SightsEfficiency>1.25</SightsEfficiency>
            <ShotSpread>0.02</ShotSpread>
            <SwayFactor>1.15</SwayFactor>
            <RangedWeapon_Cooldown>1.42</RangedWeapon_Cooldown>
            <Bulk>8.5</Bulk>
            <Mass>4</Mass>
        </statBases>
		<generateCommonality>0.4</generateCommonality>
        <weaponTags>
			<li>RF2</li>
			<li>RF3</li>
            <li>Gun</li>
            <li>SniperRifle</li>
			<li>AdvancedGun</li>
			<li>TierTwoRifle</li>
            <li>TierOneSniper</li>
            <li>CE_AI_Rifle</li>
        </weaponTags>
        <thingCategories>
            <li>Rifles</li>
        </thingCategories>
        <verbs>
            <li Class="CombatExtended.VerbPropertiesCE">
				<recoilAmount>1.15</recoilAmount>
                <verbClass>CombatExtended.Verb_ShootCE</verbClass>
                <hasStandardCommand>true</hasStandardCommand>
                <defaultProjectile>Bullet_8mmM_SP</defaultProjectile>
				<burstShotCount>1</burstShotCount>
                <warmupTime>0.52</warmupTime>
                <range>55</range>
                <soundCast>Shot_G43K</soundCast>
                <soundCastTail>GunTail_Medium</soundCastTail>
                <muzzleFlashScale>10</muzzleFlashScale>
            </li>
        </verbs>
        <comps>
            <li Class="CombatExtended.CompProperties_FireModes">
                <aiAimMode>AimedShot</aiAimMode>
            </li>
            <li Class="CombatExtended.CompProperties_AmmoUser">
                <magazineSize>1</magazineSize>
                <reloadTime>0.7</reloadTime>
                <ammoSet>AmmoSet_8mmM</ammoSet>
            </li>
			<li Class="CombatExtended.CompProperties_UnderBarrel">
				<propsUnderBarrel>
					<magazineSize>1</magazineSize>
					<reloadTime>2.4</reloadTime>
					<reloadOneAtATime>true</reloadOneAtATime>
					<ammoSet>AmmoSet_Schiessbecher</ammoSet>
				</propsUnderBarrel>
				<verbPropsUnderBarrel>
					<recoilAmount>2.84</recoilAmount>
					<verbClass>CombatExtended.Verb_ShootCE</verbClass>
					<hasStandardCommand>true</hasStandardCommand>
					<defaultProjectile>Bullet_30mmGSG_HE</defaultProjectile>
					<warmupTime>1.1</warmupTime>
					<range>40</range>
					<soundCast>Shot_IncendiaryLauncher</soundCast>
					<soundCastTail>GunTail_Medium</soundCastTail>
					<muzzleFlashScale>5</muzzleFlashScale>
					<targetParams>
						<canTargetLocations>true</canTargetLocations>
					</targetParams>
				</verbPropsUnderBarrel>
				<propsFireModesUnderBarrel>
					<aiAimMode>AimedShot</aiAimMode>
				</propsFireModesUnderBarrel>
			</li>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>320</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
				<ForceNodeIdControl>true</ForceNodeIdControl>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<verbPropertiesObjectPatchByOtherPart Default="false"/>
				<attachmentProperties>
					<li>
						<id>ModRF_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0,0.1,0)</postion>
						<scale>(1.2,0,1.2)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ZF4G43k</li>
							</thingDefs>
						</filter>
					</li>
					<!--<li>
						<id>ModRF_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0,0.1,0)</postion>
						<scale>(1.2,0,1.2)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Schiessbecherb</li>
							</thingDefs>
						</filter>
					</li>-->
					<li>
						<id>ModAR_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(0,0.1,0)</postion>
						<scale>(1.2,0,1.2)</scale>
						<defultThing>Module_G43Default</defultThing>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_G43Default</li>
								<li>Module_G4320rnd</li>
								<li>Module_G43Kurz</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
			</li>
        </comps>
		<modExtensions>
		  <li Class="CombatExtended.GunDrawExtension">
			<DrawSize>1.2</DrawSize>
		  </li>
		</modExtensions>
        <smeltProducts>
			<Rifle_Component>1</Rifle_Component>
            <Weapon_Parts>2</Weapon_Parts>
        </smeltProducts>
    </ThingDef>
	
	<!-- Gewehr/Karabiner 43 -->
	<RecipeDef ParentName="RangedWeaponRecipeBase">
		<defName>BuildG43K</defName>
		<label>Build a Gewehr 43</label>
		<description>Build a Gewehr 43, an ancient semi-automatic rifle/carabine(?), yes, now it use detachable box magazine.\nCaliber: 8mm Mauser Rifle Catridge</description>
		<jobString>Building Gewehr 43.</jobString>
		<workAmount>9600</workAmount>
		<skillRequirements>
			<Crafting>6</Crafting>
		</skillRequirements>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>Rifle_Component</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
			<li>
				<filter>
					<thingDefs>
						<li>Weapon_Parts</li>
					</thingDefs>
				</filter>
				<count>3</count>
			</li>
			<li>
				<filter>
					<thingDefs>
						<li>ComponentIndustrial</li>
					</thingDefs>
				</filter>
				<count>6</count>
			</li>
			<li>
				<filter>
					<categories>
						<li>Metallic</li>
					</categories>
				</filter>
				<count>14</count>
			</li>
			<li>
				<filter>
					<categories>
						<li>Woody</li>
					</categories>
				</filter>
				<count>40</count>
			</li>
		</ingredients>
		<products>
			<Pa_G43C>1</Pa_G43C>
		</products>
		<fixedIngredientFilter>
			<thingDefs>
				<li>Rifle_Component</li>
				<li>Weapon_Parts</li>
				<li>ComponentIndustrial</li>
			</thingDefs>
			<categories>
				<li>SLDBar</li>
				<li>USLDBar</li>
				<li>Woody</li>
			</categories>
		</fixedIngredientFilter>
		<recipeUsers>
			<li>AdvWeaponCraftingWorkTable</li>
		</recipeUsers>
	    <researchPrerequisite>Range_C2</researchPrerequisite>
	</RecipeDef>
	
</Defs>